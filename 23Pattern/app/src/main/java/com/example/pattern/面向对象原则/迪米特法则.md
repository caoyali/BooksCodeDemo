# 迪米特法则

简单点说，就是尽量让类和类之间互相没有关系。

改之前

```puml
note "这是简单的,你想让B去做某件事但是你不认识B,你认识A,A认识B" as n1
class 你{}
class A中间人{}
class B{}

你 -- A中间人
A中间人 -- B
B -- 你
```

改之后

```puml
class 你{}
class A中间人{}
class B{}

你 -- A中间人
A中间人 -right- B
```

just soso！ 是不是感觉似曾相识啊！这不就是MVC到MVP的演变么。其核心就是，叶子之间的联系越少越好，最好不知道对方。有中控概念，去做中介，来进行联系两者之间的交互。

### 什么是迪米特法则

迪米特法则(Law of demeter)，又叫最少知识原则。一个类对其他类知道的越少越好。也就是一个对象应该对其他对象有尽可能少的了解。通俗的来讲，对于被依赖的类来讲，对外除了提供public方法，向外公开的方法应该越少越好。

#### 重点强调

- 一个实体应当尽量少的与其他实体发生相互作用。使得系统模块相对独立。也就是一个软件实体应当尽量少的与其他实体发生相互作用。这样的话，当一个人修改一个模块的时候，就会尽量少的影响其他的模块，这样扩展起来也相对容易。
- 迪米特法则还有一个更加简单的定义：只与直接的朋友进行通信，不跟陌生人说话。
  - 那么直接的朋友是什么呢？我们称成员变量，方法参数，方法返回值中的类为直接的朋友，而出现在局部变量中的类，不是直接的朋友。糊涂，看不懂了。
- 耦合的方式有，依赖，关联，组合，聚合等。
- 陌生的类最好不要作为局部变量的形式出现在类的内部。
