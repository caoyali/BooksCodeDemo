# 数组
C++中的数组说实话跟java中在声明上还是需要注意的细节上都是极为相似的，我甚至觉得可以忽略这块不学了哈哈哈。

## 数组的声明

可以通过修改简单变量的声明， 后面加中括号然后指定数组的大小，就完成声明了。嗷嗷看来这里竟然和java不一样， 因为java可以先声明一个数组，但是先不指定它的大小。等到用的时候再初始化就行了， 不知道C++是咋用的，我们接下来看看哈

```
int month[12]; //嗯这样就完成声明了， 但是后面的12非得在这个时候指定吗？
```
为什么连数组都算是C++里面的复合类型呢？
原因是，在他们的概念里，需要通过其他类型来创建也算作复合类型， 数组你不给他每个元素的类型，它也不能工作对不对。在C++里没有通用的数组类型，但是有很多特定的数组类型，例如float， char， 等等

```
float loans[20] //loans 不是数组， 而是float数组，，我特么震惊这是怎么回事
```

数组的使用呢， 也就是用下标引出来，这点跟java没啥区别哈。C++在编译的过程中不会检查你代码中给出的下标是否正确，都能编过， 所以你得注意关于数组越界方面的运行时问题。

```c++
#include <iostream>
int main()
{
    using namespace std;

    int yams[3]; //的确和java语法不一样哈
    // 如果你的代码不进行初始化，那么它里面的元素在这一刹那可能是任意值。不确定的值。很危险的。
    yams[0] = 7;
    yams[1] = 8;
    yams[2] = 6;

    int yamcosts[3] = {20, 30, 5};  //一次性全部赋值，比yams赋值要来的方便
    cout << "Total yams = " << yams[0] + yams[1] + yams[2] << endl;
    cout << "The package with " << yams[1] << " yams costs " << yamcosts[1] << " cents per yam. \n" << endl;

    int total = yams[0] * yamcosts[0] + yams[1] * yamcosts[1] + yams[2] * yamcosts[2];
    cout << "The total yam expencse is " << total << " cents .\n";

    cout << "Size of yams is " << sizeof yams << endl;   //我靠这语法， 连括弧都不用的吗？？？？？
    cout << "Size of first element is " << sizeof yams[0] << endl;   //得到的是 4  4 是什么鬼我去？？？
    //划重点，sizeof之前书中讲过但是我忘了， 这个关键字得出的是其内容占用的长度， 所以yams长度是12， yams[0] 是4. 这个关键字可以用在很多value上用来看长度
    return 0;
}
```

## 数组的初始化规则

- 只有在定义数组的时候才能进行初始化， 我的天哪这也太low了吧！后来想想我觉得是不是数组item数量的愿意，只要给了就不能再变了， 这么说的话，其实java也是这么个规则的。
- 不能将一个数组赋给另一个数组，但是可以使用下标给数组中的每个元素进行赋值。这个我懂
  ```c++
  int carts[4] = {0, 1, 2, 3}; //可以
  int hand[4];
  hand[4] = {4, 3, 2, 1} //可以
  carts = hand; //编译不通过！这行代码违反了原则
  ```
- 在初始化数组的时候，允许初始化的值得数量小于声明时给定的数量。
  ```c++
  int demo[4] = {1, 2} //数量少于4个其实也是可以的， 其余的item编译器自会给设置为0
  ```
- 有时候你再声明的时候可以不给item数量， 但是前提是，此时你必须给出初始化的值
  ```c++
  int a[] = {1, 2, 3, 4, 5} //这样也可以，但是编译器自会让这个容量为5.这个是定死了
  ```
### 关于上文提到的最后一个规则
书中强烈不推荐这样写其实， 因为你很可能在初始化的时候写错！少写一些东西，容量连你自己都不知道是多少其实。
但是在某些情况下，你又不得不这样写。比如说，你要把一个远程得到的值，拿过来换成数组，你可以巧妙的运用sizeof 关键字去算出大小来， 例如 sizeof 数组 / ziseof 数组某个元素
这样经过计算得到的就是这个数组的大小。但这都是你之前没有指定大小的前提下，通过一种蜿蜒曲折的方式得到的。
反正就是能这样用但是不推荐哈。

## C++11中的初始化方式
上面我们看到的方式是这样的
```
int w[3] = {1, 2, 3};
```
这个自然段讲的最为重点的事是，等号在C++11 里面可以省略掉！其余的知识啊，不看也罢懂得都懂，不动的编译器也会告诉你让你被懂！
