# 共用体
共用体一听这个名字，就会感觉共用这个词，肯定有其解释的意义。共用体是一种比较特殊的数据结构， 他们能够存储不同的数据类型，但是统一时刻下智能存储这些"不同的数据类型”中的其中一种数据类型。其用途是，当一个数据项使用两种或者多种类型进行表示（但是同一时刻下只能用一种类型进行表示），采用共用体可以在一定程度上节省空间！
例如管理一些小商品的目录，但是他们的ID有时候是整数，有时候是一个字串。这种情况下，我们用共用体就行。

共用体可以用在结构中，但是不知道是不是能独立使用哈。
例子：
```C++
# include <iostream>
int main() {

    struct widget{
        char brand[20];
        int type;
        union id{    //关键词是 union
            long id_num;  //这两个同时只能用一个哈！
            char id_char[20];
        } id_val;
    };
    widget prize;

    return 0;
}
```

## 匿名共用体
匿名共用体顾名思义就是把名字去掉，那么此时我们可能就会想了，没有名字我需要怎么调用呢？就像下面的代码：
```C++
struct wigget{
    char brand[20];
    int type;
    union{
        long id_num;
        char id_char[20];
    };
};  //就像这样从头到尾都没有一个名字
```

用的时候这样去用！

```C++
widget mW;
mW.id_num = 1;  //就这样直接点出来就行了！
```

## 关于共用体一些底层的知识
上面我们已经强调过了，匿名共用体里面声明的变量是不能同时使用的，而且其目的就是可以用来节省空间。（但是事实上真的节省了么，我觉得并没有办法做到极致的节省）。 但是他们怎么就节省了空间的呢？为什么其声明的变量无法做到同时使用呢？原因可以回归成一个其实：
**正如上面例子中的id_num和id_char, 他俩在底层实则共用的是同一个地址！！！同一个地址请注意啊，所以你写代码的时候只需要注意，这俩“身份”到底那个是活跃的就行了。。既然是同一个地址，但是既然让我们这样写，肯定也有一套规则来保证我们书写的安全的，这个共用体的大小，就是以占内存大的那个为自己的大小。**