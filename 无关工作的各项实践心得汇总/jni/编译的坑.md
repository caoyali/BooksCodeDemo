# jni 编译相关的总结


### undefined reference to 显示找不到
![Snipaste_2022-04-01_16-50-33](/assets/Snipaste_2022-04-01_16-50-33.png)
如图所示，其实如果是简简单单的找不到我都能hold住！但是我碰到的情况是，我怎么检查，自己include的头文件啊，还是Android.mk里面指定的文件啊，都是对的。 就是不知道为什么就找不到，很是疑惑。
后来，问了人家，才知道，我只是把文件目录写了，但是具体是用到这个目录里的哪个库，自己根本就没有指定。
也就是深层的意思是，这个编辑器啊找得到头文件，都是对的，但是编译的时候因为不知道库的位置，所以库不在！有接口定义找不到具体实现的位置，所以就报了一个这样的错误。这个的解决方案如图所示！

![1321648803346_.pic](/assets/1321648803346_.pic.jpg)

但是不知道你有没有发现，图中的 “-lzp-sdk-transport” 根本就不是我们打出的动态库的名字，实际上我们的名字是： “libzp-sdk-transport.so”, 为什么这么写呢？实际上对于编译器是有一些规则的！
- 你在前面加上 -l 然后后面补充去掉 lib的so库名字，同时不带后缀的格式！因为这个 -l 直接代替了 lib这几个字，所以你要砍掉真文件名字的 “lib”这一段！  同时 -l 还带有模糊匹配的功能，他会找到符合这个规则的库的，我看我们的工程中就是这样写的！