# 简介
单元测试分为两种，一种是对于全部没有调用到Android api的那种代码，可以直接在test文件夹中写，但是如果你的被测试代码中有安卓源码的调用，那么你的单元测试代码应该位于androidTest文件夹里面去。至于原因我自己不清楚！有时间研究，always有时间研究，到最后一直搁置着。
# 单元测试中的Context
很简单
```java
/*获取Application的context上下文对象*/
 Context targetContext = InstrumentationRegistry.getInstrumentation().getTargetContext();
 
/*获取单元测试对应包下的context上下文对象*/
Context context = InstrumentationRegistry.getInstrumentation().getContext();
```
# 单元测试中如何给权限

1 首先在gradle中加入要有权限需要的一些引入库
```gradle
androidTestImplementation 'com.android.support.test:rules:1.0.2' //主要是这里面有个GrantPermissionRule 是要权限的
```

在需要权限的单元中加上
```java
 @Rule
    public GrantPermissionRule mRuntimePermissionRule = GrantPermissionRule.grant(
            android.Manifest.permission.READ_PHONE_STATE,
            android.Manifest.permission.READ_EXTERNAL_STORAGE,
            android.Manifest.permission.WRITE_EXTERNAL_STORAGE);
```